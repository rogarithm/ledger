pipe_runner, reporter_runner의 expense_filter와 expense_reporter에 대한 의존성 제거하고 expense_filter와 expense_reporter 삭제하기

자동화할 수 있는 부분은 자동화하되, 어려운 부분은 애써 구현하기보단 수동으로 작업하기

스크립트로 하고자 하는 것
 나는 이번 달에 (고정 지출을 제외하고) 얼마를 썼나?
 나는 이번 달에 (수입에서 지출과 기존 저축액을 제외하고) 가외로 쓸 수 있는 돈 얼마를 남겼나?
 변동 지출 중에 어떤 목록에 돈을 많이 썼나?

지출 습관 개선
 그 달에 지출과 저축을 제하고 남은 돈은 전혀 다른 계좌로 넣는 게 나을 것 같다

전체 지출 분석 프로세스 만들 때 할 일
 준비
  저번달 월급 입금일시, 이번달 월급 입금일시를 알아야 한다(월급날이 말일이 아닌 경우를 주의)
  위 두 날의 거래 내역을 가져온다

 계산
  (전월 월급 입금 일시 직전까지의 계좌별 잔액 합) - (이번달 월급 일시 직전까지의 계좌별 잔액 합)

지출 분석 과정 개선
 지출 분석할 달의 이전 달 월급 입금부터 그 다음 월금 입금 전 시점을 분석 기간으로 하자
  지출을 시작하는 시점이 해당 월의 시작과 일치하지 않을 때가 많다
 바뀐 분석 기간에 맞추려면 계산식을 어떻게 다듬어야 할까?
 분석 기간에 포함되는 지출 내역 가져오기 기능 구현
  그러면 분석할 때 분석 기간에 들어가는 전월 지출과 재외할 당월 지출을 프로그램에서 처리한다
 역할 주기
  월별 월급 지급일시
 현재 구현에서 자동으로 처리하기 애매한 케이스
  미래에셋에서 빠져나간 30만원은 적금으로 들어갔다. 이걸 돈을 더 썼다고 보기는 어렵다 -> 계산식에 미래에셋 계좌 차액 중 30만원은 무시하도록 한다
  이제는 남은 돈을 토스 계좌로 옮기려고 한다. 그러면 다음 달의 월말 정산 때는 옮긴 돈은 제외하고 계산하는 게 맞지 않을까?
  카카오페이와 카카오 계좌는 연동되어 있으므로, 두 계좌 모두 합쳐서 계산하는 게 더 편할 것 같다
 LATER
  엑셀, html 파일에서 지출 내역 가져오기 -> 프로그램에서 조작할 수 있는 형태로 다듬기

지출 정보 수집 과정 개선
 변동 지출은 파일로만 관리하기
  카카오뱅크, 카카오페이 지출은 월말에 엑셀 파일로 받아서 정리하는 게 낫다
  뭘 샀는지 까먹을만한 경우(ex. 올리브영, 편의점)만 미리 영수증 받아서 입력할 때 참고하자
  목적이 명확한 지출인 경우, 영수증을 굳이 받아둘 필요 없다(ex. 맥도날드, 육장정)

지출 입력 방법 개선
 파일 하나에 모든 지출을 다 쓰고나서 프로그램이 성격별로 나눠주도록 하는 아이디어는 괜찮은 것 같다
 지출을 쓸 때 income, saving, fix_exp, var_exp 네 가지로만 분류하는 건 좀 불편한 것 같다
 신한 계좌의 경우, fix_exp, income, saving이 섞여 있다. 처음부터 이걸 나눠버리면 각 지출을 한번에 볼 수 없고, 그러면 모든 지출을 썼는지 확인하기가 어렵다. 왔다갔다 하면서 확인해야 하니까.
 계좌 별로 쓰고, 이걸 프로그램이 분류해서 알맞은 파일에 넣어주는 게 좋을 것 같다.
 계좌 별로 쓴다고 해도 계좌 안에서 income, saving, fix_exp, var_exp을 나눠서 쓰기 시작하면 보기 번거로울 것 같다.
 지출 마지막에 지출 성격을 추가해주고, 프로그램이 이걸 읽어들여서 알맞은 파일에 추가해주는 게 괜찮을 것 같다
 지출의 추가 정보 입력 형식
  구입 항목, 구입 장소, 카테고리
  보통 구입 항목이나 카테고리를 적는다
  구입 항목으로 카테고리를 유추할 수 있다
  .을 구분자로 쪼개서 지출 객체에 넣는다

커맨드라인 툴 개선
 명령줄 옵션 처리
  필터링 기준을 옵션으로 어떻게 전달하지?
 일별 지출내역 포맷팅
  금액 세 자리마다 쉼표로 구분
  우측 정렬
  attr마다 가장 긴 항목에 맞춰서 정렬
 카테고리 처리
 runner 클래스를 어떻게 테스트해야 할까?
  테스트하려는 클래스의 오리 타입으로 테스트하는 건 어떨까?
 필터링 기준
   카테고리, 기간, 지출 목록, 카테고리 목록, 금액
  필터링 결과에 합계를 표시하는 게 좋을까?
 필터링 결과 형식
  필터링 기준 중 카테고리 목록, 금액은 오타 확인에 쓸 수 있을 것 같다
  필터링 결과 정렬이 필요한가?

